/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   main.c                                             :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: rdel-fra <rdel-fra@student.42.fr>          +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2024/12/18 17:58:59 by rdel-fra          #+#    #+#             */
/*   Updated: 2025/01/17 16:39:13 by rdel-fra         ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "push_swap.h"

int	main(int c, char **v)
{
	int	ent;

	ent = 0;
	if (c > 1)
	{
		if (c == 2)
			ft_validate(&c, ft_split(&v[1][0], ' ', &ent), ent);
		else
			ft_validate(&c, &v[1], ent);
	}
	return (0);
}

// ./push_swap 2147483647 1 2 5 3 0 7 4 9 21 34 12 457 78 67 99 -2147483648
// 8 6 10 -9 -4 -5 -6 -2 -1 -3

// ./push_swap 344   158  -134  -437   328   934   516     6   710   863   581  -314   914   -15  -292    -2   908    -5   -39   827  -253    62  -271   285   372   552  -672  -372  -686   327   723  -488  -538   395  -369  -530   692  -256   377   763   211   491  -141 
// -626   971   881     9   -68  -604   786  -298    37  -605   842   776   -58  -564   808   457   645   726   112   625   434   536  -364   780   639  -683   226  -590    -1  -601   475   570   503  -584   128   118   419   991   -44   472   -24  -653   923   591    93  -599   -75  -446   -69   -55  -678   330  -646  -284  -261  -263   774 | wc -l

// ./push_swap -1258749793 1075756190 -580526063 237427893 -1237570211 -220291878 -1254576693 -1549069140 83316117 1101844367 -1331080024 1147142527 -415486830 -1998086310 -524651033 594450787 829903032 -394419596 -281579768 815860782 1328832399 -1384220515 -121580264 2026425990 -1430106112 1015249174 792652090 1163515709 1320495123 1609298774 172436145 -2053501584 1080711756 -609140723 -1019357886 1742401783 -346011182 1272205955 1615472347 2015970391 1649835499 788989423 -1847983595 -1875784973 1724563967 -149368070 -1312348446 17056439 447166740 -1399614240 842987100 -1101267777 -10097035 1999855805 -1645036241 1868273023 1257830013 -1782326175 1031237614 -1907765482 -1897939725 -1872279065 -982425755 524947470 -408962921 -1435623781 106254971 -1179026401 65400058 260421555 -2114933839 -169466024 -1245523479 262597918 -302151183 1947607453 1880012147 -1540509653 1846817321 -646821752 -399469617 -1862298539 1752800798 1350797491 272983847 -1499727851 -1293242778 -449208313 1279228872 -568776380 1090538981 -684778923 1154501592 -1756249915 1318800356 -312631067 -1134234047 1366720626 -1779109294 1526403482 -89147762 1819079726 -1153128258 -939943401 -215597063 -1594554045 229158562 1339079238 -1317943021 -2012538455 340863061 994443398 1775194219 -1849049561 213932430 -1499077136 823573586 289591345 -226463114 118604777 1878222777 -1582757905 -159694270 -1503222863 1385629385 -574101346 -257897580 938458614 -33143076 -453563652 -833159684 -497069106 1406372029 62094014 1038946452 -741435570 2069267025 -287856766 1099252354 1806342411 -1379507789 1163440873 1642734281 -783666429 1057881675 -142089190 -1556811148 1037154489 -430008229 -1226919255 1379164654 133977556 1869593541 1570468084 -1137609605 -995383786 -1117501454 197057317 729377273 127523576 -1915570255 -1482127166 1918260939 1026529051 -931524702 368317380 -1875924341 1281979792 -1797360159 1016467826 -1508560897 -2088032062 -265445301 1984893649 378818589 -904013023 -360646124 992087414 1723361143 -1135663561 -1578092208 -294453011 1033939632 1447438563 1811112655 -513184801 1152586681 -1920741828 -1451358320 -1431364665 -1652546655 -950171003 1336014032 1282544490 -968666633 -859683895 1238805253 -416909213 2056349913 911393928 -972386520 -1608733528 -2068558771 747467724 1061789187 609551899 1953483586 -576184011 1599041334 637718376 -499760543 -1929828291 -375441611 1820059412 -274414606 -1667409325 -288346668 -1562457420 -321698191 269309332 -6238715 618511563 553215112 2136470953 -1914619810 105098111 -1796342769 -506491759 -1348044223 -1624018291 1833291112 850485306 1172394821 1255943788 -657532085 -1539084752 -1756240647 1359150882 -1861927555 -79845266 941535034 1776611071 223306730 -258814978 -1857867249 1980763453 -134351883 -1698539397 -1821227108 227387260 -1878761806 1038013957 -151319861 755476847 1950203159 -1064534575 982374772 451027096 578588411 469183168 -51593467 1160311865 -607939890 1660644940 -775556992 -1686684997 -821999337 -642205890 -298511075 -1337094584 1916298064 995736839 321894849 136156240 -1511077556 769574521 1448584152 -1808532451 -1026762204 -517875556 -206397865 662686580 745357119 -101497676 879413514 -1123413484 125753556 462941278 76719822 -190349813 -34580701 1781383394 -1622499416 1655589641 -547289620 -1279192849 1027927325 -1774290799 2080609744 721692490 1224845062 6669351 -1163824256 -2015690510 1048530784 -2110063295 1609917254 1143312132 1613390372 1233610899 -1890635282 -360148318 -131531245 -1072133316 2116479936 -1997501018 855440902 -891725757 1514623990 1175046223 -115095021 -2023924560 184729746 -2000600104 275141234 -706235820 623176344 1591761632 758570860 -438296348 -1303019126 -296757439 1877805587 16121855 1298313169 -1321530486 216064968 1008404626 -577774332 64966694 -337907219 -1221313339 -1250526224 1051535515 1204586514 1851449677 -999582857 -504474895 -817268194 1030939071 1621987127 1125122579 1546357329 -1833524722 801200780 1620165908 88154939 537387224 1746037162 1716410133 -44211950 -1116163218 864625596 218122024 283230835 1547856094 -603403441 99653488 -30061555 129357733 -2038493153 -124977226 468951228 -1571296507 -1380466032 831838417 -356750278 -298988489 -859670857 557252459 -1431037161 -816108544 1095486220 1089877182 225870152 1423320192 -1126328306 -96170013 731943642 598092045 -1403998385 -1819130526 1825865454 -661659197 2059612534 -1211569664 1825432047 828361465 -1704646918 1431273073 -280754628 856086561 -886557384 -1151043257 247124761 397176819 -888016886 1798458984 -1742295182 -523017600 709910763 1566657977 -1301031328 876074799
// -375886688 1362892462 719890095 -1910749965 1404048269 -149708381 -983077470 1154500970 -837624712 431882903 200088820 -1703156250 644241977 1133309874 -798275974 619299223 -415878531 -2049156436 -2084277763 -435980899 -232883733 -250960102 -357483785 2081166892 376937672 1439778872 1520363110 -1378206590 -2080836305 -957697203 -174450346 1919157754 -298812311 -432312847 1792773364 1325131551 2038753311 1735896266 -1116451115 1952035045 1850015309 -486996865 1339487692 2080450964 1856077337 -1232017196 1047361648 -1638030678 -1033046267 2065330382 475979750 -2018880267 -1347104811 109317320 -389313629 -1360669483 1933700791 -1435042896 1693458241 1424353614 343289977 -2036354984 1238806961 978268690 1830032303 -1724079721 74945235 -1230405536 1473993323 -1190949349 -339573364 118499876 -237694406 -2055187921 497904017 1017622165 -1366747769 121087877 54810626 790115702 -1753180921 -125444421 827978460 1552641771 -928216431 -664648961 | wc -l

int	ft_validate(int *c, char **v, int ent)
{
	t_push	*start;
	int		count;

	start = NULL;
	*c = ft_ptrlen(v);
	count = *c;
	if (count == 1 && ent == 1)
		return (ft_free(v, count), ft_printf("Error\n"), 0);
	if (count == 1)
		return (ft_printf("Error\n"), 0);
	if (!ft_check_numbers(v) && ent == 1)
		return (ft_free(v, count), ft_printf("Error\n"), 0);
	if (!ft_check_numbers(v))
		return (ft_printf("Error\n"), 0);
	start = ft_create_list(count, v, ent);
	if (!start && ent == 1)
		return (ft_free(v, count), 0);
	if (!start)
		return (0);
	ft_call_algorithms(&start, count);
	ft_clear_list(&start);
	return (1);
}

int	ft_check_numbers(char **str)
{
	int	i;
	int	j;

	i = 0;
	while (str[i])
	{
		j = 0;
		while (str[i][j] != '\0')
		{
			if (j == 0 && (str[i][j] == '-' || str[i][j] == '+'))
				j++;
			if (!ft_isdigit(str[i][j]))
				return (0);
			j++;
		}
		i++;
	}
	return (1);
}

int	ft_check_duplicate(t_push **stack)
{
	t_push	*current;
	t_push	*nav;
	int		value;

	current = *stack;
	while (current != NULL)
	{
		value = current->nb;
		nav = current->next;
		while (nav != NULL)
		{
			if (nav->nb == value)
				return (0);
			nav = nav->next;
		}
		current = current->next;
	}
	return (1);
}

int	ft_is_sorted(t_push **stack)
{
	t_push	*nav;

	if (*stack == NULL || (*stack)->next == NULL)
		return (1);
	nav = *stack;
	while (nav->next != NULL)
	{
		if (nav->nb > nav->next->nb)
			return (0);
		nav = nav->next;
	}
	return (1);
}
